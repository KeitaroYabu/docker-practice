---
title: "３部: 構成の全体図"
---

３部は【 １部: はじめに 】でデモしたメールフォームのアプリケーションを構築しながら、コンテナの連携などを学びます。

![image](/images/demo-form-1.png)

# 構築するアプリケーションについて
このアプリケーションは次の３コンテナで構成されています。

- 自分で PHP をインストールしたアプリケーションを動かすコンテナ ( 以後 App コンテナ )
- メール送信履歴のためのデータベースのコンテナ ( 以後 DB コンテナ )
- OSS のメールサーバのコンテナ ( 以後 Mail コンテナ )

また、２部で学んだ **コンテナ** と **イメージ** と **Dockerfile** に加え、さらにいくつかの要素を使っており、全体を図示すると次のようになっています。

![image](/images/structure/structure.056.jpeg)

急に複雑に見えますが、１ページずつ分解し、少しずつシンプルに構築していきます。
以下に３部のインデックスと、そのページで構築する部分をハイライトした図を掲載します。

【 ３部: イメージのビルド 】
![image](/images/structure/structure.057.jpeg)

【 ３部: コンテナの起動 】
![image](/images/structure/structure.067.jpeg)

【 ３部: ボリューム 】
[３部: ボリューム]()
![image](/images/structure/structure.076.jpeg)

【 ３部: バインドマウント 】
![image](/images/structure/structure.080.jpeg)

【 ３部: ポート 】
![image](/images/structure/structure.085.jpeg)

【 ３部: ネットワーク 】
![image](/images/structure/structure.089.jpeg)

【 ３部: Docker Compose 】
![image](/images/structure/structure.093.jpeg)

最後まで読み進めると、こと「開発環境を Docker で構築する」という点において **「全然わからない」ということはなくなっているはず** です。

普段なんとなく Docker を利用している方やこの本を一度読んだ方も、必要なときにここのインデックスと図を見て部分的にでも役立てていただきたいと思います。

# 公開している GitHub リポジトリについて
アプリケーションにいくつかの PHP ファイルが必要ですが、この本では PHP のコーディングはスコープが意図しているため、こちらで用意した `.php` を todo で公開しています。

これからの構築に即した空ディレクトリなども作ってありますので、これを `git clone` してそこに構築をしてください。

```:Host Machine
$ todo

tree
```

また、同じリポジトリの別ブランチでページごとの完成品を公開していますので役立ててください。

# うまく動かないときは
【 ３部: とらぶる 】にデバッグノウハウやよくある問題へのアプローチについてまとめています。

構築を間違えてもなるべく各ページで解決できるようそれぞれのページは小さく分割してはありますが、解決できない場合は役立ててください。
