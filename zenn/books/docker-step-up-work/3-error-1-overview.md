---
title: "📚 ｜ 🐳 ｜ エラーってなに？"
---

# 導入
## 目的・動機
Docker にまつわるエラーを調査できるようになりましょう。

## このページで初登場するコマンド
特になし

# いつどこでなにがエラーを発生させるか理解する
## いつ
いつとは問題を埋め込む瞬間と、それが発覚する瞬間のことです。

たとえば Dockerfile に不備があったり、`docker run` コマンドのパラメータに間違いがあったりというのが、問題を埋め込む瞬間です。

そしてそれが発覚するのは必ずしも問題を埋め込んだ瞬間とは限りません。
Dockerfile の不備は `docker build` のエラーにもなれば `docker run` のエラーにもなります。
`docker run` のパラメータ間違いが `docker run` のエラーになったりならなかったりもします。

これが把握できないと、自分の作業に問題がないのか判断できなかったり、全然関係ない調べ物をしてしまったりします。
todo e ( $?0 だけどおk？ / build が悪いのに run を調べる )

## どこ
どことはエラーが発生したマシンのことです。

`docker run` を実行して出たエラーはどこで発生したのでしょうか。
ホストマシン？ コンテナ内？

`docker exec` で `mysql` 命令を送ったけどエラーになってしまったとしたら、エラーはどこで発生したのでしょうか。
ホストマシン？ コンテナ内？ データベース上？

これが把握できないと、出力やログを探し回る場所が判断できません。

## なに
いつどこでを冷静に分析すると、直接のエラーを発生させたプロセスがわかるはずです。

たとえば Dockerfile に不備があった場合、なにが悪くてエラーを出すのでしょうか。
足りていないのは Docker の知識？ それとも Linux の知識？ それとも PHP の知識？

最後にこれを判断すれば、無駄のない的確なエラー調査が始められます。

# まとめ
- 問題を埋め込む瞬間とそれが発覚する瞬間を考えよう
- エラーがどこで発生したかを判断しよう
- いつどこでを分析してなにがエラーを発生させたかを判断しよう

Docker は間違いが即時エラーにならずに少し先の工程でエラーになるようなことがよくあります。
いつどこでを意識していないと全然問題のない直前に実行したコマンドについて闇雲に調べてしまうことがありますが、冷静に考えて的確に判断できるようになることが理解と解決への一番の近道です。

残りのページで簡単に具体例とアプローチを見ていきましょう

