---
title: "🖥️ ｜ 🐧 ｜ コンテナプロセスのエラーを調べられるようになろう"
---

# 目的・動機
Docker にまつわるエラーを調査できるようになりましょう。

このページは具体例を列挙して FAQ のように使うものではなく、イメージとコンテナとプロセスについての理解を深めることでエラーに自力で対処できる力をつけるのが目的です。

# このページで初登場するコマンド

# コンテナプロセスがエラーを出す理由
いくつも考えられますが、いくつか例を挙げると次のようなものがあります。

- 必要なコマンドやライブラリが足りていない
- データベースに接続できない
- プログラムにバグがある

# エラーの原因を調べるには
一番大事なのはプロセスの出力をちゃんと見ることです。

たとえば todo でイメージに配置した `my.cnf` によって、実行したクエリのログ ( `query.log` ) と発生したエラーのログ ( `error.log` ) がコンテナ内に出力されるようになっています。

発行したクエリのログ

```
# tail -n 2 /var/log/mysql/query.log

2022-01-30T05:40:04.078667Z	    2 Query	insert into foo ( id ) values ( 1 )
2022-01-30T05:40:06.754874Z	    2 Quit
```

接続エラーのログ ( password を指定し忘れている )

```
# tail -n 1 /var/log/mysql/error.log
2022-01-30T05:41:09.131003Z 3 [Note] Access denied for user 'hoge'@'localhost' (using password: NO)
```

MySQL のエラーは MySQL のログを、Rails のエラーは Rails のログを、Node.js のエラーは Node.js のログを見るしかありません。

いずれの場合もプロセスのログをちゃんと見ることです。

このエラー調査はもう Docker とはほとんど関係ないことを理解して、適切に調べたりヘルプを出したりできるようになるのが極めて大切です。


todo: コンテナ起動には問題がなくて Spring が落ちる場合
